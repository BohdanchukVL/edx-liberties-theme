## mako

<%page expression_filter="h" args="online_help_token"/>

<%namespace name='static' file='../static_content.html'/>
<%namespace file='../main.html' import="login_query"/>
<%!
from django.urls import reverse
from django.utils.translation import ugettext as _
from openedx.core.djangoapps.site_configuration import helpers as configuration_helpers
%>

<%
  show_explore_courses = settings.FEATURES.get('COURSES_ARE_BROWSABLE')
  self.real_user = getattr(user, 'real_user', user)
  enable_help_link = settings.FEATURES.get('ENABLE_HELP_LINK')

  support_link = configuration_helpers.get_value('SUPPORT_SITE_LINK', settings.SUPPORT_SITE_LINK)
  doc_link = get_online_help_info(online_help_token)['doc_url']

  if online_help_token == "instructor":
    help_link = doc_link
  elif support_link:
    help_link = support_link
  else:
    help_link = doc_link
%>
<div class="flex flex-wrap w-full md:flex-nowrap justify-between items-center mx-auto">
  <%include file="navbar-logo-header.html" args="online_help_token=online_help_token"/>

  <div class="ml-auto items-center flex md:order-last">
    <%include file="user_dropdown.html"/>
  </div>
  
  <button data-collapse-toggle="mobile-menu" type="button" class="mobile-menu-toggler inline-flex justify-center items-center ml-3 text-gray-400 rounded-lg md:hidden focus:outline-none focus:ring-2 focus:ring-blue-300 dark:focus:ring-gray-500" aria-controls="mobile-menu-2" aria-expanded="false" aria-label=${_("Options Menu")}>
    <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
    </svg>
  </button>

  <div class="hidden w-full md:flex justify-between align-center md:ml-5" id="mobile-menu">
    <ul class="nav-links flex flex-col p-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm">
      % if show_dashboard_tabs:
        <li class="${'active ' if reverse('dashboard') == request.path else ''} mobile-nav-item hidden-mobile nav-item nav-tab">
          <a href="${reverse('dashboard')}" class="flex justify-center whitespace-nowrap md:justify-between items-center">
            ${_("Courses")}
          </a>
        </li>
      % endif
      
        % if show_program_listing:
          <li class="${'active ' if reverse('program_listing_view') in request.path else ''} mobile-nav-item hidden-mobile nav-item nav-tab">
            <a href="${reverse('program_listing_view')}" class="flex justify-center whitespace-nowrap md:justify-between items-center" aria-current="${'page' if reverse('program_listing_view') == request.path else 'false'}">
              ${_("Programs")}
            </a>
          </li>
        % endif
    </ul>
  </div>
</div>
